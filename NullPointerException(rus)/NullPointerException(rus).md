# üî• NullPointerException: –ü–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä –¥–æ –±–∞–π—Ç–æ–≤

—á—Ç–æ —Ç–∞–∫–æ–µ null
## **–ß—Ç–æ —Ç–∞–∫–æ–µ `null` —Ñ–∏–∑–∏—á–µ—Å–∫–∏?**

`null` - —ç—Ç–æ **—á–∏—Å–ª–æ 0** –≤ –ø–∞–º—è—Ç–∏. –í—Å—ë.

```java
// –í Java
String str = null;

// –í –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
str = 0x00000000  // –ø—Ä–æ—Å—Ç–æ 32 –∏–ª–∏ 64 –±–∏—Ç–∞ –Ω—É–ª–µ–π
```

## **–ö–∞–∫ Java –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —ç—Ç–æ `null`?**

**–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä Java –ó–ê–†–ê–ù–ï–ï –∑–Ω–∞–µ—Ç –ø—Ä–æ `null`:**

1. **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä** ‚Üí –≤–∏–¥–∏—Ç —Å–ª–æ–≤–æ `null` –≤ –∫–æ–¥–µ
2. **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä** ‚Üí –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –Ω–∞ **–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é "–∑–∞–≥—Ä—É–∑–∏ 0"**
3. **JVM** ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é "–∑–∞–≥—Ä—É–∑–∏ 0"
4. **JVM** ‚Üí –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –ø—Ä–æ–≤–µ—Ä—è–µ—Ç "—Ä–∞–≤–Ω–æ –ª–∏ 0?"

```java
// –¢–≤–æ–π –∫–æ–¥:
String str = null;

// –ë–∞–π—Ç-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä:
aconst_null    // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ "–ø–æ–ª–æ–∂–∏—Ç—å null –≤ —Å—Ç–µ–∫"
astore_1       // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é str
```

## **–ì–¥–µ "–∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω" null?**

1. **–í –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ javac** (—Ñ–∞–π–ª—ã .java):
   - –ï—Å—Ç—å –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ `null`
   - –ü—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É `aconst_null`

2. **–í JVM** (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ):
   - –ö–æ–º–∞–Ω–¥–∞ `aconst_null` = "–ø–æ–ª–æ–∂–∏—Ç—å 0 –≤ —Å—Ç–µ–∫"
   - –ö–æ–º–∞–Ω–¥–∞ `ifnull` = "–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ = 0, —Ç–æ..."

–ö–∞–∫ –∂–µ–ª–µ–∑–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, null —ç—Ç–æ –∏–ª–∏ 0?

`null` –≤ Java - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **–Ω–æ–ª—å –≤ –ø–∞–º—è—Ç–∏**. –ñ–µ–ª–µ–∑–æ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ `00000000` –∏ –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç —Ç–∏–ø—ã. 

**JVM –æ—Ç–ª–∏—á–∞–µ—Ç "0-—á–∏—Å–ª–æ" –æ—Ç "0-null" –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:** 
- –î–ª—è `int x = 0` ‚Üí –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –î–ª—è `String s = null` ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–æ–≤

## **–ò—Ç–æ–≥:**

- `null` = **–≤—Å–µ–≥–æ –ª–∏—à—å 0 –≤ –ø–∞–º—è—Ç–∏**
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä** –∑–∞–º–µ–Ω—è–µ—Ç —Å–ª–æ–≤–æ `null` –Ω–∞ –∫–æ–º–∞–Ω–¥—É "–ø–æ–ª–æ–∂–∏—Ç—å 0"
- **JVM** –ø—Ä–∏ –≤–∏–¥–µ `0` –ø–æ–Ω–∏–º–∞–µ—Ç: "–æ–±—ä–µ–∫—Ç–∞ –Ω–µ—Ç" ‚Üí –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

**–ù–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ - –ø—Ä–æ—Å—Ç–æ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ 0 = –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç–∞.**

## ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ NullPointerException?
`NullPointerException` (NPE) ‚Äî —ç—Ç–æ –Ω–µ ¬´–æ—à–∏–±–∫–∞¬ª, —ç—Ç–æ **—ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ JVM** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –æ–±—ä–µ–∫—Ç—É. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç.

## üß† –£—Ä–æ–≤–µ–Ω—å 1: –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö

**–ö–æ–¥-—É–±–∏–π—Ü–∞:**
```java
User user = null;
System.out.println(user.getName()); // NPE!
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `User user` ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è **–±–∏—Ä–æ—á–∫–∞** —Å –Ω–∞–¥–ø–∏—Å—å—é ¬´user¬ª
- `= null` ‚Äî –≤–µ—à–∞–µ–º –±–∏—Ä–æ—á–∫—É **–≤ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ**
- `user.getName()` ‚Äî –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–º—è —Ç–∞–º, –≥–¥–µ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç

–ù–æ, –ø–æ–¥–æ–∂–¥–∏, –¥–∞–≤–∞–π —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ —ç—Ç–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Exception.java

—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä—á–æ–∫—É
```
public class Exception extends Throwable {
```
–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç RuntimeException (–Ω–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
–ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ throws clause
‚ö†Ô∏è —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –æ—Ç Throwable (—ç—Ç–æ –≤–∞–∂–Ω–æ) 
- NullPointerException –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç Throwable, –∏ –ø—Ä–∏—á–∏–Ω—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è NPE –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ —Å–∞–º–æ–≥–æ Throwable. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ –ø–æ–¥—Ä–æ–±–Ω–æ: